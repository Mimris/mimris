(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[10],{"1Pok":function(e,o,a){"use strict";var l=a("MX0m"),t=a.n(l),s=a("q1tI"),n=a.n(s),i=a("DCcX"),r=a("vkoW"),c=a("CaDr"),d=a("OBzv"),u=a("sOKU"),m=a("/MKj"),v=a("n/ZX"),f=n.a.createElement;o.a=function(e){var o,a,l,p,x,j,h,b,N,g,y,k,O,M,w,S,T,F,C,E,D,R,_,V,A,L,U;Object(m.c)();var X=Object(m.d)((function(e){return e}));if(null===(o=X.phData)||void 0===o||null===(a=o.metis)||void 0===a||!a.models)return null;var I=Object(m.d)((function(e){var o,a;return null===(o=X.phData)||void 0===o||null===(a=o.metis)||void 0===a?void 0:a.metamodels})),J=Object(m.d)((function(e){var o,a;return null===(o=X.phData)||void 0===o||null===(a=o.metis)||void 0===a?void 0:a.models})),P=Object(m.d)((function(e){var o;return null===(o=X.phFocus)||void 0===o?void 0:o.focusModel})),B=(Object(m.d)((function(e){var o;return null===(o=X.phUser)||void 0===o?void 0:o.focusUser})),Object(m.d)((function(e){var o;return null===(o=X.phFocus)||void 0===o?void 0:o.focusModelview})));var K=(null===J||void 0===J?void 0:J.find((function(e){return(null===e||void 0===e?void 0:e.id)===(null===P||void 0===P?void 0:P.id)})))||J[0],z=null===K||void 0===K?void 0:K.modelviews,W=null===K||void 0===K?void 0:K.objects,q=(null===z||void 0===z||null===(l=z.find((function(e){return e.id===(null===B||void 0===B?void 0:B.id)})))||void 0===l?void 0:l.objectviews)||[],Z=(null===q||void 0===q?void 0:q.filter((function(e,o,a){return o===a.findIndex((function(o){return o.place===e.place&&o.id===e.id}))})))||[],G=(null===I||void 0===I||I.find((function(e){return e&&e.id===(null===K||void 0===K?void 0:K.metamodelRef)})),function(e,o,a,l){var t,s,n=null===e||void 0===e?void 0:e.find((function(e){return e&&e.id===o.metamodelRef})),i=a.find((function(e){return e.id===l.objectRef})),r=null===n||void 0===n||null===(t=n.objecttypes)||void 0===t||null===(s=t.find((function(e){return e.name&&(null===i||void 0===i?void 0:i.typeRef)===e.id})))||void 0===s?void 0:s.name;return r}),H=null===Z||void 0===Z?void 0:Z.filter((function(e){return"Role"===G(I,K,W,e)})),Q=null===Z||void 0===Z?void 0:Z.filter((function(e){return"Task"===G(I,K,W,e)})),Y=(null===Z||void 0===Z||Z.filter((function(e){return"Organisation"===G(I,K,W,e)})),null===Z||void 0===Z||Z.filter((function(e){return"Projects"===G(I,K,W,e)})),null===Z||void 0===Z?void 0:Z.filter((function(e){return null!=G(I,K,W,e)})));null===Z||void 0===Z||Z.filter((function(e){return"Person"===G(I,K,W,e)})),null===Z||void 0===Z||Z.filter((function(e){return"Property"===G(I,K,W,e)})),null===Z||void 0===Z||Z.filter((function(e){return"Information"===G(I,K,W,e)}));var $=e.buttonLabel,ee=(e.className,Object(s.useState)(!1)),oe=ee[0],ae=ee[1],le=function(){return ae(!oe)};return f(n.a.Fragment,null,f("button",{style:{height:"22px"},color:"link",onClick:le,className:"jsx-899630844 btn-context btn-link btn-sm float-right mb-0 py-0 pr-2"},$),f(i.a,{isOpen:oe,toggle:le},f(r.a,{toggle:le},"Set Context: "),f(c.a,null,f("div",{className:"jsx-899630844 context-list1 border-bottom border-dark"},"Current Context / Focus :",f("br",{className:"jsx-899630844"}),f("span",{className:"jsx-899630844 context-item"},"Model: ",f("strong",{className:"jsx-899630844 focusValue"},null===(p=e.phFocus)||void 0===p||null===(x=p.focusModel)||void 0===x?void 0:x.name)," "),f("br",{className:"jsx-899630844"}),f("span",{className:"jsx-899630844 context-item"},"Modelview: ",f("strong",{className:"jsx-899630844 focusValue"},null===(j=e.phFocus)||void 0===j||null===(h=j.focusModelview)||void 0===h?void 0:h.name)," "),f("br",{className:"jsx-899630844"}),f("span",{className:"jsx-899630844 context-item"},"Objectview: ",f("strong",{className:"jsx-899630844 focusValue"},null===(b=e.phFocus)||void 0===b||null===(N=b.focusObjectview)||void 0===N?void 0:N.name)," "),f("br",{className:"jsx-899630844"}),f("span",{className:"jsx-899630844 context-item"},"Focus Object: ",f("strong",{className:"jsx-899630844 focusValue"},null===(g=e.phFocus)||void 0===g||null===(y=g.focusObject)||void 0===y?void 0:y.name)," "),f("br",{className:"jsx-899630844"}),f("span",{className:"jsx-899630844 context-item"},"Org: ",f("strong",{className:"jsx-899630844 focusValue"},null===(k=e.phFocus)||void 0===k||null===(O=k.focusOrg)||void 0===O?void 0:O.name)," "),f("br",{className:"jsx-899630844"}),f("span",{className:"jsx-899630844 context-item"},"Proj: ",f("strong",{className:"jsx-899630844 focusValue"},null===(M=e.phFocus)||void 0===M||null===(w=M.focusProj)||void 0===w?void 0:w.name)," "),f("br",{className:"jsx-899630844"}),f("span",{className:"jsx-899630844 context-item"},"Role: ",f("strong",{className:"jsx-899630844 focusValue"},null===(S=e.phFocus)||void 0===S||null===(T=S.focusRole)||void 0===T?void 0:T.name)," "),f("br",{className:"jsx-899630844"}),f("span",{className:"jsx-899630844 context-item"},"Task: ",f("strong",{className:"jsx-899630844 focusValue"},null===(F=e.phFocus)||void 0===F||null===(C=F.focusTask)||void 0===C?void 0:C.name)," "),f("br",{className:"jsx-899630844"}),f("span",{className:"jsx-899630844 context-item"},"Template: ",f("strong",{className:"jsx-899630844 focusValue"},null===(E=e.phFocus)||void 0===E||null===(D=E.focusTemplateModel)||void 0===D?void 0:D.name)," "),f("br",{className:"jsx-899630844"}),f("span",{className:"jsx-899630844 context-item"},"TemplateModelview: ",f("strong",{className:"jsx-899630844 focusValue"},null===(R=e.phFocus)||void 0===R||null===(_=R.focusTemplateModelview)||void 0===_?void 0:_.name)," "),f("br",{className:"jsx-899630844"}),f("span",{className:"jsx-899630844 context-item"},"TargetModel: ",f("strong",{className:"jsx-899630844 focusValue"},null===(V=e.phFocus)||void 0===V||null===(A=V.focusTargetModel)||void 0===A?void 0:A.name)," "),f("br",{className:"jsx-899630844"}),f("span",{className:"jsx-899630844 context-item"},"TargetModelview: ",f("strong",{className:"jsx-899630844 focusValue"},null===(L=e.phFocus)||void 0===L||null===(U=L.focusTargetModelview)||void 0===U?void 0:U.name)," "),f("br",{className:"jsx-899630844"})),f("div",{className:"jsx-899630844 select bg-light pt-0 "},f(v.a,{key:"Tab",type:"SET_FOCUS_TAB",selArray:Q,selName:"Tab",focustype:"focusTab"}),f(v.a,{key:"Task",type:"SET_FOCUS_TASK",selArray:Q,selName:"Tasks",focustype:"focusTask"}),f(v.a,{key:"Role",type:"SET_FOCUS_ROLE",selArray:H,selName:"Roles",focustype:"focusRole"}),f(v.a,{key:"Objectview",type:"SET_FOCUS_OBJECTVIEW",selArray:Y,selName:"Object(view)",focustype:"focusObjectview"}),f("hr",{style:{backgroundColor:"#ccc",padding:"1px",marginTop:"5px",marginBottom:"0px"},className:"jsx-899630844"}))),f(d.a,null,f(u.a,{color:"link",onClick:le},"Exit"))),f(t.a,{id:"899630844"},[]))}},"n/ZX":function(e,o,a){"use strict";var l=a("q1tI"),t=a.n(l),s=a("/MKj"),n=t.a.createElement;o.a=function(e){var o,a;var l=Object(s.c)(),i=e.refresh,r=e.setRefresh;var c=e.type,d=e.selArray;var u,m,v=function(e){var o=JSON.parse(e.value).id,a=JSON.parse(e.value).name,t=(d.find((function(e){return e.id===o})),{id:o,name:a});l({type:c,data:t})};m="Model"===e.selName?null===(o=e.focusModel)||void 0===o?void 0:o.name:null===(a=e.focusModelview)||void 0===a?void 0:a.name,u=d&&d.map((function(o,a){return o&&o.name!=="Select "+e.selName+"..."&&n("option",{key:o.id+a,value:JSON.stringify({id:o.id,name:o.name,type:c})},o.name)}));var f="Model"===e.selName||"Modelviews"===e.selName?"Model"===e.selName?n("div",{className:"mod-modview"},n("div",{key:e.type,className:"select"},n("span",{className:"title mx-0 float-left "},e.selName," :"),n("select",{key:m,className:"list-obj mx-2 w-75",defaultValue:"Select ".concat(e.selName," ..."),onChange:function(e){return v({value:e.target.value})},name:"Focus ".concat(e.selName," ...")},u))):n("div",{key:e.type,className:"select"},n("span",{className:"title mx-2 "},e.selName,":"),n("select",{key:e.type,className:"list-obj mx-2",defaultValue:"Select ".concat(e.selName," ..."),onChange:function(e){v({value:e.target.value}),r(!i)},name:"Focus ".concat(e.selName," ...")},u)):n("div",{className:"mod-modview"},n("div",{key:e.type,className:"select"},n("select",{key:m,className:"list-obj w-100",defaultValue:"Select ".concat(e.selName," ..."),style:{width:"68%"},onChange:function(e){return v({value:e.target.value})},name:"Focus ".concat(e.selName," ...")},n("option",{defaultValue:"selectatask"}," -- select a task -- "),u)));return n(t.a.Fragment,null,f)}},"rv+F":function(e,o,a){"use strict";var l=a("MX0m"),t=a.n(l),s=a("q1tI"),n=a.n(s),i=a("DCcX"),r=a("vkoW"),c=a("CaDr"),d=a("OBzv"),u=a("sOKU"),m=a("/MKj"),v=a("Cs6D"),f=a("n/ZX"),p=a("o0o1"),x=a.n(p),j=a("HaE+"),h=a("E2g8"),b=a.n(h);a("vcXL");b.a.polyfill();var N=function(){var e=Object(j.a)(x.a.mark((function e(o){var a,l;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("7 modeldata",o),a=JSON.stringify(o),l="http://localhost:4000/",e.prev=3,e.next=6,fetch("".concat(l,"postakmmodels/"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:a}).then((function(e){console.log("51 saveModelDataToServer res",e)}));case 6:return e.next=8,fetch("".concat(l,"system/reboot/"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){console.log("68 Reboot res",e)}));case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log("72 saga",e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(o){return e.apply(this,arguments)}}(),g=n.a.createElement;o.a=function(e){var o,a,l,p,x,j,h,b,y,k,O,M,w,S,T,F;var C=Object(m.c)(),E=e.refresh,D=e.setRefresh;var R=e.ph&&e.ph.phList&&(null===e||void 0===e||null===(o=e.ph)||void 0===o||null===(a=o.phList)||void 0===a?void 0:a.modList);var _=R&&(null===R||void 0===R?void 0:R.map((function(e){return e&&{value:e.id,label:e.name}})));var V=null===(l=e.ph)||void 0===l||null===(p=l.phData)||void 0===p||null===(x=p.metis)||void 0===x?void 0:x.models.map((function(e){return e&&g("span",{key:e.id},e.name," | ")})),A=null===(j=e.ph)||void 0===j||null===(h=j.phData)||void 0===h||null===(b=h.metis)||void 0===b?void 0:b.metamodels.map((function(e){return e&&g("span",{key:e.id},e.name," | ")}));var L=null===e||void 0===e||null===(y=e.ph)||void 0===y||null===(k=y.phData)||void 0===k||null===(O=k.metis)||void 0===O?void 0:O.models,U=null===e||void 0===e||null===(M=e.ph)||void 0===M||null===(w=M.phFocus)||void 0===w?void 0:w.focusModel,X=null===L||void 0===L?void 0:L.find((function(e){return(null===e||void 0===e?void 0:e.id)===(null===U||void 0===U?void 0:U.id)})),I=null===L||void 0===L?void 0:L.map((function(e){return e})),J=null===X||void 0===X||null===(S=X.modelviews)||void 0===S?void 0:S.map((function(e){return e}));"Model server"===(null===(T=e.ph)||void 0===T?void 0:T.phSource)&&I&&g("div",{className:"modeller-selection p-2 "},g(f.a,{type:"SET_FOCUS_MODEL",selArray:I,selName:"Model",focustype:"focusModel",refresh:E,setRefresh:D})," ",g("br",null),g("hr",null),g(f.a,{type:"SET_FOCUS_MODELVIEW",selArray:J,selName:"Modelviews",focustype:"focusModelview",refresh:E,setRefresh:D}),"  ",g("br",null));var P=U&&g("span",{className:"bg-light p-1 pl-1 pr-5 w-100 "},U.name),B=e.buttonLabel,K=e.className,z=Object(s.useState)(!1),W=z[0],q=z[1],Z=function(){return q(!W)},G=g("button",{className:"btn-primary btn-sm mx-2 float-right",onClick:function(){var o,a,l,t,s,n,i=e.ph.phFocus.focusModel,r=e.ph.phData.metis.models.find((function(e){return e.id===i.id})),c=e.ph.phData.metis.metamodels.find((function(e){return e.id===r.metamodelRef})),d=r.targetMetamodelRef&&(null===e||void 0===e||null===(o=e.ph)||void 0===o||null===(a=o.phData)||void 0===a||null===(l=a.metis)||void 0===l?void 0:l.metamodels.find((function(e){return e.id===r.targetMetamodelRef}))),u=r.targetModelRef&&(null===e||void 0===e||null===(t=e.ph)||void 0===t||null===(s=t.phData)||void 0===s||null===(n=s.metis)||void 0===n?void 0:n.models.find((function(e){return e.id===r.targetModelRef})));N({metis:{metamodels:[c,d&&d],models:[r,u&&u]}})}}," Save current to Server"),H=g("button",{className:"btn-link btn-sm mr-2",onClick:function(){var o=e.ph.phFocus.focusModel;C({type:"LOAD_DATAMODEL",data:o})}}," Load a model from Server "),Q=g(n.a.Fragment,null,g("div",{className:"store-div pb-1 mb-0"},g("div",{className:"select px-2",style:{paddingTop:"4px"}},G,"  ",H))),Y=_&&g(v.a,{options:_,name:"Model",onChange:function(e){var o={id:e.value,name:e.label};C({type:"SET_FOCUS_MODEL",data:o})}});return g(n.a.Fragment,null,g("span",{className:"jsx-1417983624"},g("button",{color:"link",onClick:Z,className:"jsx-1417983624 btn-context btn-primary float-right mb-0 pr-2"},B)," "),g(i.a,{isOpen:W,toggle:Z,className:K},g(r.a,{toggle:function(){Z(),D(!E)}},"Model Server: "),g(c.a,{className:"pt-0"},"Current Source: ",g("strong",{className:"jsx-1417983624"},null===(F=e.ph)||void 0===F?void 0:F.phSource),g("div",{className:"jsx-1417983624 source bg-light py-2 "}," Metamodels:",g("br",{className:"jsx-1417983624"})," ",g("strong",{className:"jsx-1417983624"}," ",A)),g("div",{className:"jsx-1417983624 source bg-light py-2 "}," Models:",g("br",{className:"jsx-1417983624"})," ",g("strong",{className:"jsx-1417983624"}," ",V)),g("hr",{style:{borderTop:"1px solid #8c8b8",backgroundColor:"#9cf",padding:"2px",margin:"2px"},className:"jsx-1417983624"}),g("h6",{className:"jsx-1417983624"},"Model repository (Firebase) "),Y,"Selected: ",P,g("div",{className:"jsx-1417983624 source bg-light pt-2 "},Q)),g(d.a,null,g("div",{style:{fontSize:"smaller"},className:"jsx-1417983624"},'NB! Clicking "Load a model from Server" will add the model to current store (redux memory).'),g(u.a,{className:"modal-footer m-0 py-1 px-2",color:"link",onClick:function(){Z()}},"Done"))),g(t.a,{id:"1417983624"},[".list-obj.jsx-1417983624{min-Width:90px;}",".modal.jsx-1417983624{z-index:1;margin-top:8%;}",".modal.right.jsx-1417983624 .modal-dialog.jsx-1417983624{position:fixed;margin:150px auto 200px auto;width:380px;height:80%;color:black;-webkit-transform:translate3d(0%,0,0);-ms-transform:translate3d(0%,0,0);-o-transform:translate3d(0%,0,0);-webkit-transform:translate3d(0%,0,0);-ms-transform:translate3d(0%,0,0);transform:translate3d(0%,0,0);}",".modal.right.jsx-1417983624 .modal-content.jsx-1417983624{height:100%;overflow-y:auto;}",".modal.right.jsx-1417983624 .modal-body.jsx-1417983624{padding:15px 15px 80px;color:#444;}",".modal.right.fade.jsx-1417983624 .modal-dialog.jsx-1417983624{right:320px;-webkit-transition:opacity 0.3s linear,left 0.3s ease-out;-moz-transition:opacity 0.3s linear,left 0.3s ease-out;-o-transition:opacity 0.3s linear,left 0.3s ease-out;-webkit-transition:opacity 0.3s linear,left 0.3s ease-out;transition:opacity 0.3s linear,left 0.3s ease-out;}",".modal.fade.in.jsx-1417983624{opacity:1;}",".modal.right.fade.show.jsx-1417983624 .modal-dialog.jsx-1417983624{right:0;-webkit-transform:translate(0,0);-ms-transform:translate(0,0);transform:translate(0,0);}",".modal-content.jsx-1417983624{border-radius:0;border:none;}",".modal-header.jsx-1417983624{border-bottom-color:#eeeeee;background-color:#fafafa;}",".modal-background.jsx-1417983624{display:none;}",".btn-context.jsx-1417983624{font-weight:bold;}"]))}}}]);