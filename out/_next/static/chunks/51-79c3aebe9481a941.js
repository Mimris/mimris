"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[51],{1124:(e,s,t)=>{t.d(s,{A:()=>h});var a=t(7876),o=t(4232),l=t(1777),i=t(9099),c=t(8230),r=t.n(c),n=t(4597),d=t(282),p=t(4529),u=t(8302),m=t(7979);let h=e=>{var s,t,c,h,x,f,b,g,j,v,y,N;let w=(0,l.wA)();(0,i.useRouter)().pathname,(0,o.useRef)(null);let k=(0,o.useRef)(null);(0,o.useRef)(null);let[S,C]=(0,o.useState)(!1),[F,P]=(0,o.useState)([]),[A,R]=(0,o.useState)([]),[E,I]=(0,o.useState)([]),[M,O]=(0,o.useState)(!1),[_,z]=(0,o.useState)(!1),[H,T]=(0,o.useState)(""),[L,U]=(0,o.useState)(!1),[D,G]=(0,o.useState)(e.phFocus.focusIssue),[B,q]=(0,o.useState)(null===(s=e.phFocus.focusProj)||void 0===s?void 0:s.org),[K,W]=(0,o.useState)(null===(t=e.phFocus.focusProj)||void 0===t?void 0:t.repo),[V,X]=(0,o.useState)(null===(c=e.phFocus.focusProj)||void 0===c?void 0:c.path),[Y,J]=(0,o.useState)(null===(h=e.phFocus.focusProj)||void 0===h?void 0:h.file),[Q,Z]=(0,o.useState)(null===(x=e.phFocus.focusProj)||void 0===x?void 0:x.branch),[$,ee]=(0,o.useState)(null===(f=e.phFocus.focusProj)||void 0===f?void 0:f.focus),[es,et]=(0,o.useState)(null===(b=e.phFocus.focusProj)||void 0===b?void 0:b.ghtype),[ea,eo]=(0,o.useState)(null===(g=e.phFocus.focusProj)||void 0===g?void 0:g.projectNumber),el="https://api.github.com/repos/".concat(B,"/").concat(K,"/issues");"https://api.github.com/repos/".concat(B,"/").concat(K,"/issues?state=closed"),"https://api.github.com/repos/".concat(B,"/").concat(K,"/collaborators"),"https://api.github.com/repos/".concat(B,"/").concat(K,"/projects/").concat(ea),"https://api.github.com/repos/".concat(B,"/").concat(K,"/contents/").concat(V,"/").concat(Y,"?ref=").concat(Q),(0,o.useRef)(null),(0,o.useEffect)(()=>{var s,t,a,o,l,i,c,r;q(null===(s=e.phFocus.focusProj)||void 0===s?void 0:s.org),W(null===(t=e.phFocus.focusProj)||void 0===t?void 0:t.repo),X(null===(a=e.phFocus.focusProj)||void 0===a?void 0:a.path),J(null===(o=e.phFocus.focusProj)||void 0===o?void 0:o.file),Z(null===(l=e.phFocus.focusProj)||void 0===l?void 0:l.branch),ee(null===(i=e.phFocus.focusProj)||void 0===i?void 0:i.focus),et(null===(c=e.phFocus.focusProj)||void 0===c?void 0:c.ghtype),eo(null===(r=e.phFocus.focusProj)||void 0===r?void 0:r.projectNumber),el="https://api.github.com/repos/".concat(B,"/").concat(K,"/issues"),"https://api.github.com/repos/".concat(B,"/").concat(K,"/issues?state=closed"),"https://api.github.com/repos/".concat(B,"/").concat(K,"/collaborators"),"https://api.github.com/repos/".concat(B,"/").concat(K,"/projects/").concat(ea),"https://api.github.com/repos/".concat(B,"/").concat(K,"/contents/").concat(V,"/").concat(Y,"?ref=").concat(Q)},[K,B,V,Y,Q,$,es,ea]);let ei=async e=>{try{let s=await fetch(e),t=await s.json();0===t.length?(console.error("Error fetching issues:",t.message),P([])):P(t)}catch(e){console.error("Error fetching comments:",e)}},ec=e=>{G(e)},er=()=>e.setShowIssueModal(!1),en=D&&(0,a.jsxs)(n.A,{show:e.showIssueModal,onHide:er,ref:k,className:"modal ".concat(e.modalOpen?"d-none":"d-block"),style:{marginRight:"0px",backgroundColor:"#ffffed",zIndex:"9199"},children:[(0,a.jsx)(n.A.Header,{closeButton:!0,children:(0,a.jsx)(n.A.Title,{children:"Issue in focus:"})}),(0,a.jsx)(n.A.Body,{className:"bg-transparent",style:{overflowY:"scroll",maxHeight:"72vh"},children:(0,a.jsx)("div",{className:"bg-light p-2 m-0",children:D.number?(0,a.jsxs)("div",{children:[(0,a.jsxs)(r(),{className:"text-primary fs-4",href:"http://github.com/".concat(B,"/").concat(K,"/issues/").concat(null==D?void 0:D.number),target:"_blank",style:{textDecoration:"underline"},children:[D.number,", ",D.title]})," ",(0,a.jsx)("br",{}),"User login: ",D.user.login," ",(0,a.jsx)("br",{}),"Assignee: ",null===(j=D.assignees[0])||void 0===j?void 0:j.login,"  ",(0,a.jsx)("br",{}),"State: ",D.state," ",(0,a.jsx)("br",{}),"Status: ",D.status," ",(0,a.jsx)("br",{}),"Priority: ",D.priority," ",(0,a.jsx)("br",{})," // Add this line Created: ",D.created_at.slice(0,10)," ",(0,a.jsx)("br",{}),"Updated: ",D.updated_at.slice(0,10)," ",(0,a.jsx)("br",{}),"Closed: ",null===(v=D.closed_at)||void 0===v?void 0:v.slice(0,10)," ",(0,a.jsx)("br",{}),"Labels: ",D.labels.map(e=>e.name+", ")," ",(0,a.jsx)("br",{}),(0,a.jsxs)("div",{className:"bg-white border border-secondary p-2",children:["Details:",(0,a.jsx)(p.oz,{remarkPlugins:[m.A],rehypePlugins:[u.A],children:D.body})]}),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("hr",{}),(0,a.jsx)("h6",{className:"border",children:"Open Issue on GitHub!"}),(0,a.jsxs)(r(),{className:"text-primary ",href:"http://github.com/".concat(B,"/").concat(K,"/issues/").concat(D.number),target:"_blank",children:[B,"/",K,"/issues/",D.number]})]})]},D.number):(0,a.jsx)("div",{children:"No Issue in focus!"})})}),"˝",(0,a.jsx)(n.A.Footer,{children:(0,a.jsx)(d.A,{variant:"secondary",onClick:er,children:"Close"})})]});return e.minimized?(0,a.jsx)("div",{className:"btn btn-sm text-success ms-1 p-1 d-flex justify-content-center align-items-center",style:{backgroundColor:"#ffffed",whiteSpace:"nowrap"},children:(0,a.jsx)("button",{className:"btn btn-sm text-success m-0 p-1",style:{backgroundColor:"#ffffdd",whiteSpace:"nowrap"},"data-toggle":"tooltip","data-placement":"top","data-bs-html":"true",title:"Open Issues left side-panel!",onClick:()=>e.setMinimized(!1),children:(0,a.jsxs)("span",{className:"fs-6",children:[(0,a.jsx)("i",{className:"fa fa-lg fa-angle-right pull-right-container"})," Issues"]})})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"buttons rounded mt-1 ms-1",style:{backgroundColor:"#ffffed",minWidth:"106px",whiteSpace:"nowrap"},children:(0,a.jsx)("button",{className:"btn btn-sm border text-success m-0 p-1",style:{backgroundColor:"#ffffdd",whiteSpace:"nowrap"},"data-toggle":"tooltip","data-placement":"top","data-bs-html":"true",title:"Open Issues in left side-panel!",onClick:()=>e.setMinimized(!0),children:(0,a.jsxs)("span",{className:"fs-6 me-0 pe-4",children:[(0,a.jsx)("i",{className:"fa fa-lg fa-angle-left pull-left-container"})," Issues"]})})}),(0,a.jsxs)("div",{className:"issues p-1 mt-1",style:{position:"fixed",top:"156px",left:"0",width:"400px",height:"82vh",zIndex:"99",backgroundColor:"#ffffea",overflow:"auto",border:"1px solid #ccc",borderRadius:"5px 5px 5px 5px"},children:[(0,a.jsxs)("div",{className:"issues-list side-panel border border-success",children:[(0,a.jsx)("button",{className:"btn btn-sm bg-light text-dark float-end",onClick:()=>e.setMinimized(!0),children:"X"}),(0,a.jsxs)("div",{className:"ps-2 font-weight-bold fs-4",children:["Issues:",(0,a.jsx)("span",{})]}),(0,a.jsx)("div",{className:"d-flex justify-content-center",children:(0,a.jsxs)("button",{className:"button bg-success rounded m- m-1 px-2 text-light w-100","data-toggle":"tooltip","data-placement":"top","data-bs-html":"true",title:"Getting the Issues for current repository!",style:{filter:"brightness(120%)"},onClick:()=>ei(el),children:[(0,a.jsx)("i",{className:"fab fa-github fa-lg me-2"}),"Fetch Issues from GitHub"]})}),(0,a.jsxs)("div",{className:"header m-0 p-0",children:[(0,a.jsx)("div",{className:"font-weight-bold  border fs-6",children:(0,a.jsx)("button",{className:"btn text-success m-0 px-2 py-0 btn-sm float-end","data-toggle":"tooltip","data-placement":"top","data-bs-html":"true",title:"Open issueModal with the FocusIssue!",onClick:()=>{e.setShowIssueModal(!0)},style:{backgroundColor:"#fff"},children:(0,a.jsx)("i",{className:"fa fa- fa-plus"})})}),(0,a.jsxs)("div",{className:"font-weight-bold p-1 text-success fs-6",children:[" # ",null===(y=e.phFocus.focusIssue)||void 0===y?void 0:y.id,": ",null===(N=e.phFocus.focusIssue)||void 0===N?void 0:N.name]})]}),(0,a.jsxs)("div",{className:"m-0 p-0 bg-light scroll",style:{overflow:"auto",height:"64vh"},children:[(0,a.jsx)("hr",{className:"m-0"}),(0,a.jsx)("div",{children:"GitHub Open Issues:"}),F.length>0&&F.map(e=>{var s;return(0,a.jsxs)("div",{className:"bg-light fs-6  m-2 p-2",children:[(0,a.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,a.jsxs)(r(),{className:"text-primary",href:e.html_url,target:"_blank",children:["# ",e.number," - ",e.state," - ",e.created_at.slice(0,10)]}),(0,a.jsx)("button",{className:"btn btn-sm checkbox bg-light text-success position-relative",onClick:()=>w({type:"SET_FOCUS_ISSUE",data:{id:e.number,name:e.title}})&&ec(e),style:{float:"right",border:"1px solid #ccc",borderRadius:"3px",backgroundColor:"#fff",marginTop:"-5px",marginLeft:"auto",display:"inline-block",position:"relative",scale:"0.7"},children:"Set Focus"}),(0,a.jsx)("div",{className:"text-muted",children:e.user.name})]}),(0,a.jsx)("h6",{children:e.title}),(0,a.jsxs)("div",{className:"text-muted",children:["Created by: ",e.user.login," - Assignee: ",null===(s=e.assignees[0])||void 0===s?void 0:s.login," "]})]},e.id)})]}),(0,a.jsx)("hr",{className:"m-1 p-0"}),(0,a.jsxs)("div",{className:"p-2 m-1",children:[" ",(0,a.jsx)("div",{className:"text-muted",children:"Link to GitHub Issues:"}),K&&(0,a.jsxs)(r(),{className:"text-primary ",href:"http://github.com/".concat(B,"/").concat(K,"/issues"),target:"_blank",children:[B,"/",K,"/issues"]})," ",(0,a.jsx)("br",{}),(0,a.jsx)(r(),{className:"text-primary ",href:"http://github.com/kavca/akmm-app/issues",target:"_blank",children:"kavca/akmm-app/issues"})]}),(0,a.jsx)("hr",{className:"m-1"})]}),en]})]})}},1746:(e,s,t)=>{t.d(s,{A:()=>m});var a=t(7876),o=t(4250),l=t.n(o),i=t(4232),c=t(1777),r=t(4529),n=t(6173),d=t(4597),p=t(282),u=t(5255);let m=function(e){var s;let t=(0,c.wA)(),[o,m]=(0,i.useState)(e.taskFocusModel),h=(0,c.d4)(e=>e.phData),x=(0,c.d4)(e=>e.phFocus),[f,b]=(0,i.useState)(null),[g,j]=(0,i.useState)(!0),[v,y]=(0,i.useState)(!1),[N,w]=(0,i.useState)(!1),[k,S]=(0,i.useState)(!1),[C,F]=(0,i.useState)(!1),[P,A]=(0,i.useState)(!1),[R,E]=(0,i.useState)(!1);(0,i.useEffect)(()=>{j(!0)},[e.visible]);let I=(0,i.useRef)(null);(0,i.useRef)(null);let[M,O]=(0,i.useState)({}),_=(0,c.d4)(e=>{var s;return null==h?void 0:null===(s=h.metis)||void 0===s?void 0:s.metamodels}),z=(0,c.d4)(e=>{var s;return null==h?void 0:null===(s=h.metis)||void 0===s?void 0:s.models}),H=(0,c.d4)(e=>null==x?void 0:x.focusModel);(0,c.d4)(e=>x.focusModelview);let T=(0,c.d4)(e=>x.focusTask),L=(0,c.d4)(e=>x.focusRole),U=null==z?void 0:z.find(e=>(null==e?void 0:e.id)===(null==H?void 0:H.id)),D=null==_?void 0:_.find(e=>(null==e?void 0:e.id)===(null==U?void 0:U.metamodelRef)),G=null==D?void 0:D.subModels;if(!G)return null;null==U||U.modelviews;let B=(e,s)=>{e&&t({type:"SET_FOCUS_TASK",data:{id:e.id,name:e.name}}),s&&t({type:"SET_FOCUS_ROLE",data:{id:s.id,name:s.name}})},q=(e,s)=>(0,a.jsxs)("li",{className:"p-0 me-0",onClick:()=>b(e),style:{backgroundColor:"lightyellow"},children:[(0,a.jsx)("hr",{className:"py-1 bg-success"}),(0,a.jsxs)("details",{className:"m-y p-0 pe-1",children:[(0,a.jsxs)("summary",{id:"task",className:"text-success d-flex align-items-top p-0 m-0",children:[(0,a.jsx)("i",{className:"fa fa-tasks mt-1 ms-2","aria-hidden":"true"}),(0,a.jsx)("span",{className:"ms-2",children:null==e?void 0:e.name}),(0,a.jsx)("span",{className:"d-flex my-0 ms-auto me-0 align-items-center justify-items-center",style:{minWidth:"100px",whiteSpace:"nowrap"},children:(0,a.jsx)("button",{className:"btn bg-light text-success mx-0 p-1 pt-0 fs-5 ms-auto","data-toggle":"tooltip","data-placement":"top","data-bs-html":"true",title:"Set this task as focus!",onClick:B.bind(this,e,s),style:{border:"1px solid #ccc",borderRadius:"5px",backgroundColor:"#fff",transform:"scale(0.7)"},children:"Focus"})})]}),(0,a.jsx)("div",{className:"selected-task bg-transparent ps-0",children:(0,a.jsxs)("div",{className:"m-0 p-2",children:[(0,a.jsx)(r.oz,{rehypePlugins:[n.A],children:null==e?void 0:e.description}),(0,a.jsx)("hr",{})]})})]})]},null==e?void 0:e.id),K=(e,s)=>e||s?(s||(s={id:0,name:"Modeller"}),q(e,s)):null,W=(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"tasklist p-1 mt-2 me-2",style:{backgroundColor:"lightyellow",relative:"fixed",top:"0px",right:"0%",width:"400px",height:"78vh",zIndex:"999"},ref:I,children:[(0,a.jsx)("button",{className:"btn btn-sm bg-light text-dark float-end",onClick:j,children:"X"}),(0,a.jsxs)("div",{className:"fle-d",children:[(0,a.jsx)("div",{className:"ps-2 text-success font-weight-bold fs-5 ",children:"Modelling Guide"}),(0,a.jsxs)("div",{children:["Role:"," ",(0,a.jsx)("span",{className:"font-weight-bold text-success bg-white p-1",children:null==L?void 0:L.name})]}),(0,a.jsxs)("div",{children:["Task:"," ",(0,a.jsx)("span",{className:"font-weight-bold text-success bg-white p-1",children:null==T?void 0:T.name})]}),(0,a.jsx)("div",{className:"mb-3",children:P?(0,a.jsx)("button",{className:"btn text-success mt-0 pe-2 py-0 btn-sm float-end","data-toggle":"tooltip","data-placement":"top","data-bs-html":"true",title:"Open all!",onClick:()=>{document.querySelectorAll("details").forEach(e=>{let s=e.querySelector("summary");s&&"task"===s.getAttribute("id")&&e.setAttribute("open","")}),A(!P)},style:{backgroundColor:"transparent"},children:(0,a.jsx)("i",{className:"fa fa-lg fa-folder-closed"})}):(0,a.jsx)("button",{className:"btn text-success mt-0 pe-2 py-0 btn-sm float-end","data-toggle":"tooltip","data-placement":"top","data-bs-html":"true",title:"Close all!",onClick:()=>{document.querySelectorAll("details").forEach(e=>{let s=e.querySelector("summary");s&&"task"===s.getAttribute("id")&&e.removeAttribute("open")}),A(!P)},style:{backgroundColor:"transparent"},children:(0,a.jsx)("i",{className:"fa fa-lg fa-folder-open"})})}),(0,a.jsx)("hr",{className:"m-0 p-2"})]}),(0,a.jsx)("div",{className:"tasks",style:{maxHeight:"70vh",overflow:"scroll"},children:(0,a.jsxs)("div",{className:"bg-light p-1 ",children:[" Generated Tasks from: ",(0,a.jsxs)("span",{className:"bg-transparent px-1 text-success",children:[" ",null===(s=G[0])||void 0===s?void 0:s.name]}),null==G?void 0:G.map((e,s)=>{null==_||_.find(s=>s.id===e.metamodelRef);let t=e.objects.filter(e=>"Task"===e.typeName).sort((e,s)=>e.name.localeCompare(s.name)),o=e.objects.filter(e=>"Role"===e.typeName),l=t.map(e=>K(e,o[0]));return(0,a.jsxs)("details",{children:[(0,a.jsx)("summary",{id:"task",className:"text-success d-flex align-items-center m-0 bg-light",children:(0,a.jsx)("span",{className:"ms-0 d-flex justify-content-between",children:(0,a.jsxs)("div",{className:"",children:[(0,a.jsx)("i",{className:"fa fa-folder mt-1","aria-hidden":"true"}),(0,a.jsxs)("span",{className:"ms-2 me-2",children:[(0,a.jsx)("span",{style:{fontWeight:"bold"},children:e.name})," ()"]})]},s)})}),(0,a.jsx)("div",{className:"m-0 p-2",children:l},s)]},s)})]})})]})});return(d.A,d.A.Header,d.A.Title,d.A.Body,u.A,e.props,d.A.Footer,p.A,g)?(0,a.jsx)("button",{className:"btn btn-sm border text-success px-0 py-0 float-end",style:{backgroundColor:"#ffffdd"},onClick:()=>j(!1),children:(0,a.jsx)("span",{className:"fs-0",style:{whiteSpace:"nowrap"},children:(0,a.jsx)("i",{className:"fa fa-question pull-right-container"})})}):(0,a.jsxs)("div",{className:"jsx-add6194bcabe3f2f tasklist",children:[(0,a.jsx)("button",{style:{backgroundColor:"#ffffdd",whiteSpace:"nowrap"},"data-toggle":"tooltip","data-placement":"top","data-bs-html":"true",title:"Close Task pane!",onClick:()=>j(!0),className:"jsx-add6194bcabe3f2f btn btn-sm border text-success px-1 py-0 float-end",children:(0,a.jsx)("span",{style:{whiteSpace:"nowrap"},className:"jsx-add6194bcabe3f2f fs-0",children:(0,a.jsx)("i",{className:"jsx-add6194bcabe3f2f fa fa-sm fa-angle-left pull-left-container"})})}),(0,a.jsx)("div",{className:"jsx-add6194bcabe3f2f tasklist",children:W}),(0,a.jsx)(l(),{id:"add6194bcabe3f2f",children:'.tasklist.jsx-add6194bcabe3f2f{width:100%;height:100%;padding:0;margin:0}.selected-task.jsx-add6194bcabe3f2f{font-size:10px;background-color:#f0f0f0;border:1px solid#ccc;padding:10px;margin-top:10px;min-width:400px}.li.jsx-add6194bcabe3f2f{list-style-type:none;padding:5px;margin:0}.li.jsx-add6194bcabe3f2f:hover{background-color:#ddd}.header.jsx-add6194bcabe3f2f{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;background-color:#f0f0f0;padding:5px}.selected-task.jsx-add6194bcabe3f2f{font-size:10px;background-color:#f0f0f0;border:1px solid#ccc;padding:10px;margin-top:10px;min-width:400px}.li.jsx-add6194bcabe3f2f{list-style-type:none;padding:5px;margin:0}.li.jsx-add6194bcabe3f2f:hover{background-color:#ddd}.header.jsx-add6194bcabe3f2f{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;background-color:#f0f0f0;padding:5px;min-width:400px}.mr-auto.jsx-add6194bcabe3f2f{margin-right:auto}.buttons.jsx-add6194bcabe3f2f{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:5px;-webkit-align-self:flex-end;-ms-flex-item-align:end;align-self:flex-end;margin-left:auto}.minimized-task.jsx-add6194bcabe3f2f{position:fixed;bottom:0;right:0;background-color:#f0f0f0;border:1px solid#ccc;padding:5px;cursor:pointer}.maximized-task.jsx-add6194bcabe3f2f{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#fff;border:1px solid#ccc;padding:10px}li.jsx-add6194bcabe3f2f button.checkbox.jsx-add6194bcabe3f2f{display:inline-block;width:20px;height:20px;margin-left:auto;background-color:#fff;border:1px solid#ccc;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px}li.jsx-add6194bcabe3f2f button.checkbox.jsx-add6194bcabe3f2f::before{content:"";display:block;width:10px;height:10px;margin:4px auto;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px;background-color:#ccc}li.jsx-add6194bcabe3f2f button.checkbox.jsx-add6194bcabe3f2f:checked::before{background-color:#007bff}'})]})}},2287:(e,s,t)=>{t.d(s,{U:()=>b});var a=t(7876),o=t(4232),l=t(1777),i=t(4597),c=t(282),r=t(8230),n=t.n(r),d=t(4631),p=t(4797),u=t(7725),m=t(3278),h=t(7276),x=t(6167),f=t(7705);let b=e=>{let s=(0,l.wA)();if(!e.phData)return null;e.phData.metis,e.phSource;let[t,r]=(0,o.useState)(!1),[b,g]=(0,o.useState)(!1),[j,v]=(0,o.useState)(!1),[y,N]=(0,o.useState)(e.phFocus.focusProj.name),[w,k]=(0,o.useState)(!1),[S,C]=(0,o.useState)(!1),[F,P]=(0,o.useState)(null),[A,R]=(0,o.useState)(null),[E,I]=(0,o.useState)(!1),[M,O]=(0,o.useState)(!1),[_,z]=(0,o.useState)(!1),H=e=>{R(e)},T=(0,o.useRef)(null),L=t=>{(0,d.s5)(e,s,t),s({type:"SET_FOCUS_REFRESH",data:{id:Math.random().toString(36).substring(7),name:"name"}})},U=()=>{let e=document.getElementById("openFileModal");e&&(e.classList.remove("show"),e.style.display="none")},D=(0,o.useRef)(null),G=()=>{t&&r(!0),g(!0)},B=()=>g(!1),q=(0,a.jsxs)(i.A,{show:b,onHide:B,className:"projectModalOpen ".concat(j?"d-none":"d-block"),style:{marginLeft:"200px",marginTop:"100px",backgroundColor:"#fee",zIndex:"9999"},ref:T,children:[(0,a.jsx)(i.A.Header,{closeButton:!0,children:"GitHub Settings: "}),(0,a.jsx)(i.A.Body,{children:(0,a.jsx)(f.A,{props:e,onSubmit:s=>{e.onSubmit(s)}})}),(0,a.jsx)(i.A.Footer,{children:(0,a.jsx)(c.A,{color:"link",onClick:B,children:"Exit"})})]}),K=e=>{let s=e.target;s.closest(".bg-light")||s.closest(".fa-bars")||s.closest(".fa-ellipsis-v")||(k(!1),I(!1),C(!1),O(!1))};(0,o.useEffect)(()=>(document.addEventListener("click",K),()=>{document.removeEventListener("click",K)}),[]);let W=(0,a.jsx)(u.A,{buttonLabel:" Open Project File",className:"ContextModal",ph:e,toggleRefresh:e.refresh,setRefresh:e.setRefresh,path:""}),V=(0,a.jsx)(x.A,{buttonLabel:" New Project",className:"ContextModal",ph:e,refresh:e.toggleRefresh,setRefresh:e.setRefresh}),X=(0,a.jsx)(h.A,{buttonLabel:"OSDU Import",className:"ContextModal",ph:e,refresh:e.refresh,setRefresh:e.setRefresh}),Y=(0,a.jsx)(u.A,{buttonLabel:"Update Metamodel",className:"ContextModal",ph:e,refresh:e.refresh,setRefresh:e.setRefresh,path:"akm-metamodels"}),J=(0,a.jsx)(m.A,{buttonLabel:"Import/Export File",className:"ContextModal",ph:e,refresh:e.refresh,setRefresh:e.setRefresh});function Q(e){("Open"===e||"New"===e)&&(window.confirm("Have you save your current project? Click OK to proceed without saving, or Cancel to save first.")?P(null):P(e))}e.setRefresh,e.refresh;let Z=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("button",{className:"btn rounded bg-light d-flex justify-content-start align-items-center text-dark px-1 my-0 py-0 pe-2 me-auto w-100","data-toggle":"tooltip","data-placement":"top","data-bs-html":"true",title:"Click here to Open a Project file from local file system",onClick:()=>{var e;return null===(e=D.current)||void 0===e?void 0:e.click()},children:[(0,a.jsx)("i",{className:"fa fa-folder fa-lg pe-2 me-4"}),"Open local file"]}),(0,a.jsx)("input",{type:"file",ref:D,style:{display:"none"},onChange:e=>{L(e)}})]}),$=(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("button",{className:"btn btn-sm rounded bg-primary text-light w-100 px-2 d-flex justify-content-start align-items-center","data-toggle":"tooltip","data-placement":"top","data-bs-html":"true",title:"Click here to Save the Project file to the local file system",onClick:()=>{N(e.phFocus.focusProj.name),s({type:"LOAD_TOSTORE_PHSOURCE",data:"".concat(y,"_PR")}),(0,p.gV)({phData:e.phData,phFocus:e.phFocus,phSource:e.phSource,phUser:e.phUser},y,"_PR")},children:[(0,a.jsx)("i",{className:"fa fa-save fa-lg pe-2"})," Save to local file"]})});function ee(s){let{item:t,activeItem:o,activeRightItem:l,handleItemClick:i}=s;return(0,a.jsx)("li",{className:"context-item border p-1 rounded-2 ".concat(t===o?"active":""),children:(0,a.jsx)("div",{onClick:()=>i(t),style:{backgroundColor:t===l?"blue":"white"},children:(s=>{switch(s){case"New":return(0,a.jsxs)("div",{className:"bg-secondary border rounded text-white ps-1",children:[(0,a.jsx)("i",{className:"fa fa-folder fa-lg mx-1 mt-3"}),V]});case"Open":return(0,a.jsxs)("div",{className:"bg-secondary border rounded text-white ps-1",children:[(0,a.jsx)("i",{className:"fa fa-folder fa-lg mx-1 mt-3"}),W]});case"File":return(0,a.jsx)("div",{className:"bg-light border border-4 rounded ",children:Z});case"Save":return(0,a.jsx)("div",{className:"bg-light border border-4 rounded",children:$});case"Metamodel":return(0,a.jsxs)("details",{className:"bg-secondary border rounded text-dark px-1",children:[(0,a.jsx)("summary",{className:"bg-light my-1 ps-1 text-dark ",children:"File Import/Export"}),(0,a.jsx)("div",{className:"bg-secondary border border-2 rounded text-light","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"Save and Load models (import/export) from/to files",children:J}),(0,a.jsxs)("div",{className:"bg-secondary border border-2 rounded text-light",children:[(0,a.jsx)("i",{className:"fa fa-folder fa-lg mx-1 ms-2 mt-3"}),Y]})]});case"Import":return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("details",{className:"bg-success border rounded text-white ps-1 pe-2",children:[(0,a.jsx)("summary",{className:"bg-success my-1 me-1 ps-1",children:"OSDU Import/Export"}),(0,a.jsxs)("div",{className:"bg-success border rounded border-warning ps-2 mb-1 me-",children:[(0,a.jsx)("i",{className:"fa fa-house-tsunami me-2 ms-0"}),X]}),(0,a.jsxs)("button",{className:"bg-success text-light text-start border rounded border-warning my-1 py-1 ps-2 mb-1 w-100",onClick:()=>{e.setVisibleFocusDetails(!0),e.setExportTab(2)},style:{background:_?"red":"blue"},children:[(0,a.jsx)("i",{className:"fa fa-house-tsunami me-2"}),"EXPORT CSV TO OSDU"]})]})});default:return null}})(t)})},t)}let es=(w||E)&&(0,a.jsxs)("div",{className:"bg-light rounded-2",style:{whiteSpace:"nowrap",position:"absolute",top:"36px",left:"-2px",width:"260px",height:"30vh",backgroundColor:"#b0cfcf",zIndex:"99"},children:[(0,a.jsxs)("div",{className:"context-item bg-white m-1",children:[(0,a.jsx)("strong",{className:"bg-light text-success ps-2 fs-4 d-flex",style:{whiteSpace:"nowrap"},children:"AKM Modeller"}),(0,a.jsxs)("div",{className:"d-flex justify-content-around p-1 m-0 w-100",style:{position:"relative",top:"-4px",left:"0px"},children:[(0,a.jsx)(n(),{className:"mt-3 bg-transparent",href:"http://www.kavca.no",target:"_blank",children:(0,a.jsxs)("div",{className:"d-flex ms-1 justify-content-end align-items-baseline",children:[(0,a.jsx)("img",{src:"images/Kavca-logo2.png",width:"18",height:"18",className:"",alt:"Kavca logo"}),(0,a.jsx)("span",{className:"fw-bold fs-5",style:{color:"#0083e2"},children:"avca AS"})]})}),(0,a.jsx)(n(),{className:"mb-",href:"#",children:(0,a.jsx)("img",{src:"images/equinor-logo.svg",width:"110px",height:"40px",className:"d-inline-block align-top",alt:"Equinor logo"})})]})]}),(0,a.jsx)("ul",{className:"bg-light mx- rounded w-100",children:["Open","New","File","Save","Import","Metamodel"].map(e=>(0,a.jsx)(ee,{item:e,activeItem:F,activeRightItem:A,handleItemClick:Q},e))}),(0,a.jsxs)("div",{className:"bg-light",children:[(0,a.jsx)("hr",{className:"bg-light py-1 my-0"}),(0,a.jsxs)("div",{className:"bg-light d-flex flex-wrap border border-2 rounded mx-1 ps-2 ",children:["GitHub Repo:",""!==e.phFocus.focusProj.org&&""!==e.phFocus.focusProj.repo&&""!==e.phFocus.focusProj.branch&&(0,a.jsx)(n(),{className:"text-primary ms-1",href:"https://github.com/".concat(e.phFocus.focusProj.org,"/").concat(e.phFocus.focusProj.repo,"/tree/").concat(e.phFocus.focusProj.branch,"/").concat(e.phFocus.focusProj.path),target:"_blank",children:e.phFocus.focusProj.repo})]}),(0,a.jsxs)("div",{className:"bg-light d-flex justify-content-between  border border-2 rounded mx-1 ps-2",children:["GitHub Project No. :",(0,a.jsx)(n(),{className:"text-primary",href:"https://github.com/orgs/".concat(e.phFocus.focusProj.org,"/projects/").concat(e.phFocus.focusProj.projectNumber),target:"_blank",children:(0,a.jsxs)("button",{className:"text-primary border rounded bg-transparent px-5",children:[e.phFocus.focusProj.projectNumber," "]})})]})]})]}),et=(S||M)&&(0,a.jsx)("div",{className:"bg-light ",style:{whiteSpace:"nowrap",position:"absolute",top:"32px",right:"-12px",width:"18rem",height:"100%",backgroundColor:"#b0cfcf",zIndex:"99"},children:(0,a.jsx)("ul",{className:"bg-light p-1 mx-1 rounded",children:["EditProjectDetails"].map((e,s)=>(0,a.jsx)("li",{className:"context-item m-1 p-1 rounded-2 ".concat(e===A?"active":""),style:{whiteSpace:"nowrap",backgroundColor:e===A?"blue":"white"},children:(0,a.jsx)("div",{onClick:()=>H(e),style:{backgroundColor:"#ddd"},children:"EditProjectDetails"===e?(0,a.jsxs)("div",{className:"btn rounded m-1 p-1 bg-white text-secondary ",style:{whiteSpace:"nowrap",width:"96%",textAlign:"left",padding:"0px 8px 0px 6px",margin:"0px"},"data-toggle":"tooltip","data-placement":"top","data-bs-html":"true",title:"Edit the Project details like the Project Name, GitHub Repository, Branch, File, etc.",onClick:G,children:[(0,a.jsx)("i",{className:"fa fa-edit fa-lg"})," Project Settings"]}):(0,a.jsx)(a.Fragment,{})})},s))})}),ea=e.expanded?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"project-menu-bar d-flex justify-content-between align-items-center px-1 pt-1 pb-",style:{backgroundColor:"#b0cfcf",transition:"height 1s ease-out"},children:[(0,a.jsx)("div",{className:"d-flex justify-content-between align-items-center",children:(0,a.jsxs)("div",{className:"menu-buttons d-flex flex-wrap justify-content-end align-items-center ms-2",children:[(0,a.jsxs)("span",{className:"context-item border rounded-2 ",style:{backgroundColor:"#ded"},"data-toggle":"tooltip","data-placement":"top","data-bs-html":"true",title:"Project Number in the GitHub Repository",children:[(0,a.jsxs)("span",{className:"px-1",children:["Project : ",(0,a.jsxs)("span",{className:"px-1",children:[e.phFocus.focusProj.name," "]})]}),(0,a.jsx)("span",{className:"pe-1",style:{whiteSpace:"nowrap"},children:(0,a.jsx)(n(),{className:"text-primary",href:"https://github.com/orgs/".concat(e.phFocus.focusProj.org,"/projects/").concat(e.phFocus.focusProj.projectNumber),target:"_blank",children:(0,a.jsxs)("button",{className:"px-2 text-primary border-light rounded",style:{backgroundColor:"#efe"},children:["no. ",e.phFocus.focusProj.projectNumber]})})})]}),(0,a.jsxs)("span",{className:"context-item border rounded-2 ",style:{backgroundColor:"#ded",whiteSpace:"nowrap"},"data-toggle":"tooltip","data-placement":"top","data-bs-html":"true",title:"GitHub Repository name",children:[(0,a.jsx)("span",{className:"px-1",children:"Repo :"}),(0,a.jsx)("span",{className:"pe-1",style:{whiteSpace:"nowrap"},children:""!==e.phFocus.focusProj.org&&""!==e.phFocus.focusProj.repo&&(0,a.jsx)(n(),{className:"text-primary",href:"https://github.com/".concat(e.phFocus.focusProj.org,"/").concat(e.phFocus.focusProj.repo,"/tree/").concat(e.phFocus.focusProj.branch,"/").concat(e.phFocus.focusProj.path),target:"_blank",children:(0,a.jsxs)("button",{className:"px-2 text-primary border-light rounded",style:{backgroundColor:"#efe"},children:[" ",e.phFocus.focusProj.repo," "]})})})]}),(0,a.jsxs)("span",{className:"context-item border d-flex align-items-center rounded-2 mx-1",style:{backgroundColor:"#ded",whiteSpace:"nowrap"},children:[(0,a.jsx)("label",{className:"ps-",style:{backgroundColor:"#ded"},children:"Branch:"}),(0,a.jsxs)("span",{className:"px-1 ms-1",style:{backgroundColor:"#efe"},"data-toggle":"tooltip","data-placement":"top","data-bs-html":"true",title:"This is the Branch name in the GitHub Repository",children:[" ",e.phFocus.focusProj.branch]})]})]})}),(0,a.jsxs)("div",{className:"ms-auto d-flex justify-content-between align-items-top",style:{position:"relative",top:"-12px",right:"-58px",height:"30px",transform:"scale(0.8)",transition:"height 1s ease-in-out"},children:[(0,a.jsxs)("div",{className:"rounded-2 my-0 px-1",style:{whiteSpace:"nowrap"},onClick:()=>e.setExpanded(!e.expanded),children:[(0,a.jsx)("i",{className:"fa fa-arrow-up fa-sm"})," Project-bar"]}),(0,a.jsx)("div",{onClick:()=>e.setFocusExpanded(!e.focusExpanded),children:(0,a.jsxs)("div",{className:"ms-auto me-5 pe-5 rounded-2",style:{whiteSpace:"nowrap",position:"relative",top:"0px",right:"-4px",width:"22px",height:"2px",transition:"height 1s ease-in-out"},children:[e.focusExpanded?(0,a.jsx)("i",{className:"fa fa-arrow-up fa-sm"}):(0,a.jsx)("i",{className:"fa fa-arrow-down fa-sm"})," Focus-bar"]})}),(0,a.jsxs)("div",{className:"context-item border d-flex justify-content-end align-items-center rounded-2 mx-2 mt-3",children:[(0,a.jsx)("label",{className:"ps-1",style:{backgroundColor:"#ded",padding:"2px 4px"},children:"File:"}),(0,a.jsxs)("span",{className:"px-1 ms-1",style:{backgroundColor:"#efe",whiteSpace:"nowrap"},"data-toggle":"tooltip","data-placement":"top","data-bs-html":"true",title:"This is the Project File name",children:[" ",e.phFocus.focusProj.file]})]})]})]})}):(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"d-flex",style:{backgroundColor:"#b0cfcf",transition:"height 1s ease-out"},onClick:()=>e.setExpanded(!0),children:[(0,a.jsx)("div",{className:"ms-auto me-5 mt-1 rounded-2",style:{whiteSpace:"nowrap",position:"relative",top:"-8px",right:"-58px",width:"22px",height:"7px",transform:"scale(0.8)",transition:"height 1s ease-in-out"}}),(0,a.jsxs)("div",{className:"ms-auto me-5 px-1 rounded-2",style:{whiteSpace:"nowrap",position:"relative",top:"-5px",right:"345px",width:"22px",height:"2px",transform:"scale(0.8)",transition:"height 1s ease-in-out"},children:[(0,a.jsx)("i",{className:"fa fa-arrow-down fa-sm"})," Project-bar"]}),(0,a.jsx)("div",{onClick:()=>e.setFocusExpanded(!e.focusExpanded),children:(0,a.jsxs)("div",{className:"ms-auto me-5 px-1 rounded-2",style:{whiteSpace:"nowrap",position:"relative",top:"-6px",right:"320px",width:"22px",height:"2px",transform:"scale(0.8)",transition:"height 1s ease-in-out"},children:[e.focusExpanded?(0,a.jsx)("i",{className:"fa fa-arrow-up fa-sm"}):(0,a.jsx)("i",{className:"fa fa-arrow-down fa-sm"})," Focus-bar"]})})]})});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"project-menu-bar ".concat(e.expanded?"expanded":""," context-item"),style:{width:"10hw",marginBottom:"-3px"},children:[(0,a.jsx)("div",{className:"bar-menu-left bg-transparent",style:{position:"absolute",top:"5px",left:"5px",padding:"1px",zIndex:"99"},onMouseEnter:()=>I(!0),onClick:()=>{I(w&&!1),k(!w)},children:(0,a.jsx)("i",{className:"".concat(w?"fa fa-bars fa-lg":"fa fa-bars bg-dark fa-lg")})}),(0,a.jsx)("div",{style:{position:"absolute",top:"3px",left:"3px"},children:es}),(0,a.jsxs)("div",{className:"bar-menu-right px-2 pt-1 pb-2 ps-4 bg-transparent",style:{position:"absolute",top:"5px",right:"8px",zIndex:"999"},onMouseEnter:()=>O(!0),onMouseLeave:()=>O(!1),onClick:()=>C(!S),children:[(0,a.jsx)("i",{className:"fa fa-ellipsis-v fa-lg"}),(0,a.jsx)("span",{className:"bg-transparent mb- rounded p-1 ms-4 pe-2","data-toggle":"tooltip","data-placement":"top","data-bs-html":"true",title:e.projName,style:{fontSize:"1rem",color:"gray",fontWeight:"normal",fontStretch:"condensed",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",position:"absolute",top:"0px",right:"28px",padding:"14px",maxWidth:"24vw",direction:"rtl"}}),et]}),ea]}),(0,a.jsxs)("div",{className:"modal fade",id:"openFileModal","aria-labelledby":"openFileModalLabel","aria-hidden":"true",children:["                ",(0,a.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:(0,a.jsxs)("div",{className:"modal-content",children:[(0,a.jsxs)("div",{className:"modal-header",children:[(0,a.jsx)("h5",{className:"modal-title",id:"openFileModalLabel",children:"Open Project File"}),(0,a.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:U})]}),(0,a.jsx)("div",{className:"modal-body",children:(0,a.jsx)("div",{className:"input text-primary",style:{maxHeight:"32px",backgroundColor:"transparent"},"data-bs-toggle":"tooltip","data-bs-placement":"top",title:"Choose a local Project file to load",children:(0,a.jsx)("input",{className:"select-input",type:"file",accept:".json",onChange:t=>(0,d.s5)(e,s,t),style:{width:"580px"}})})}),(0,a.jsx)("div",{className:"modal-footer",children:(0,a.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:U,children:"Close"})})]})}),q]})]})}},8943:(e,s,t)=>{t.d(s,{A:()=>l});var a=t(7876),o=t(4232);let l=e=>class extends o.Component{render(s){return(0,a.jsx)(e,{props:s})}}}}]);