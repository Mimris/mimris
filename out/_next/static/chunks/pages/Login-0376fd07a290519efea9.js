_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[17],{"HaE+":function(e,t,n){"use strict";function r(e,t,n,r,o,c,u){try{var s=e[c](u),i=s.value}catch(a){return void n(a)}s.done?t(i):Promise.resolve(i).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,c){var u=e.apply(t,n);function s(e){r(u,o,c,s,i,"next",e)}function i(e){r(u,o,c,s,i,"throw",e)}s(void 0)}))}}n.d(t,"a",(function(){return o}))},Q9jb:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Login",function(){return n("eJQ9")}])},YQnL:function(e,t,n){"use strict";var r=n("1OyB"),o=n("vuIU"),c=n("Ji7U"),u=n("md7G"),s=n("foSv"),i=n("q1tI"),a=n.n(i),l=a.a.createElement;function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(s.a)(e);if(t){var o=Object(s.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}t.a=function(e){return function(t){Object(c.a)(u,t);var n=f(u);function u(){return Object(r.a)(this,u),n.apply(this,arguments)}return Object(o.a)(u,[{key:"render",value:function(t){return l(e,null)}}]),u}(a.a.Component)}},eJQ9:function(e,t,n){"use strict";n.r(t);var r=n("o0o1"),o=n.n(r),c=n("rePB"),u=n("HaE+"),s=n("q1tI"),i=n.n(s),a=n("/MKj"),l=n("Qk0P"),f=n("YQnL"),p=n("7oih"),v=n("YFqc"),b=n.n(v),d=n("vcXL"),O=n.n(d),h=i.a.createElement;function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.default=Object(f.a)(Object(a.b)((function(e){return e}))((function(e){console.log("10 Login",e.phUser.focusUser);var t=Object(a.c)();e.phData||t(Object(l.b)());var n=Object(s.useRef)(null),r=Object(s.useRef)(null),c=Object(s.useState)(null),f=c[0],v=c[1],d=Object(s.useState)(null),j=d[0],g=d[1];function w(){return(w=Object(u.a)(o.a.mark((function e(){var t,c,u,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O()("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:null===(t=n.current)||void 0===t?void 0:t.value,password:null===(c=r.current)||void 0===c?void 0:c.value})});case 2:return u=e.sent,e.next=5,u.json();case 5:s=e.sent,v(s);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return(m=Object(u.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O()("/api/usersession/1");case 2:return t=e.sent,n=t.json,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(s.useEffect)((function(){var e=function(){return m.apply(this,arguments)}();g(e)}),[f]),Object(s.useEffect)((function(){var e=f&&{focusUser:y(y({},null===f||void 0===f?void 0:f.person),{},{session:j})};console.log("77",e);var n=null===e||void 0===e?void 0:e.focusUser;console.log("80",n),n&&t({type:"SET_FOCUS_USER",data:n})}),[j&&f]);var P=h("div",null,f?JSON.stringify(f):"Please log in!",h("br",null),h("input",{type:"text",placeholder:"email",ref:n}),h("input",{type:"password",placeholder:"password",ref:r}),h("button",{onClick:function(){return w.apply(this,arguments)}},"Login")),E=f&&j&&"Welcome back to AKM Modeller!"!==f.mess?h("div",null,h("div",null,"Not signed in!"),h(b.a,{href:"/signup"},h("a",null,"Please SignUp"))):h("div",null,f&&"".concat(f.mess," ").concat(f.person.name," "),h("hr",null),h("br",null),h(b.a,{href:"/settings"},h("a",null,"Settings")),")");return console.log("110",e.phUser.focusUser),h(i.a.Fragment,null,h(p.a,{user:e.phUser.focusUser}," ",f?E:P))})))},vcXL:function(e,t,n){"use strict";var r=self.fetch.bind(self);e.exports=r,e.exports.default=e.exports}},[["Q9jb",0,2,3,1,4,5,6]]]);